###테이블 구성

- USER_POINT

	사용자별 현재 포인트 잔액 관리

	성능 최적화를 위한 집계 테이블

- POINT

	포인트 적립 / 사용 / 취소를 모두 기록하는 Ledger 테이블

	삭제 없이 모든 이력 유지

- POINT_USE_HIS

	특정 포인트 사용이 어떤 적립 포인트에서
	얼마만큼 차감되었는지 1원 단위로 추적

ERD 다이어그램은 /resource/erd.pdf 파일에 포함되어 있다.

### 기능 

[1] 적립 (EARN)

	1회 적립 가능 범위

	최소: 1 포인트

	최대: point.max-earn-once 설정값

	개인별 최대 보유 포인트 제한

	point.max-total-balance 설정값

	관리자 수기 지급 여부 구분

	POINT_FG = MANUAL / DEFAULT

	모든 포인트는 만료일을 가짐

	기본값: 365일

	 정책상 최소 1일, 최대 5년 미만
	 
[2] 사용 (USE)

	포인트 사용은 주문 시에만 가능
	
	주문번호(orderNo)와 함께 사용 이력 기록
	
	사용 우선순위는 SQL 정렬로 보장
		- 관리자 수기 지급 포인트 우선	
		- 만료일이 가까운 포인트 우선
		
[3] 적립 취소

	특정 적립 포인트 단위로만 취소 가능
	
	적립 금액 중 일부라도 사용된 경우 취소 불가
	
	취소 시:
		- 원 적립 포인트 remain_amount → 0
		- 취소 이력을 POINT 테이블에 신규 기록
		
[4] 사용 취소

	사용 금액의 전액 또는 일부 취소 가능
	
	사용 취소는 POINT_USE_HIS 기준으로 처리
	
	취소 시:
		- 사용된 적립 포인트의 remain_amount 복구
		- 이미 만료된 포인트라면 신규 적립(EARN)으로 처리
	
	사용 포인트의 취소 가능 금액은
		- 해당 USE 포인트에 연결된 POINT_USE_HIS 합계로 판단
		
### 빌드 및 실행 방법

gradle, springboot 사용으로 ./gradlew bootRun 명령으로 실행 